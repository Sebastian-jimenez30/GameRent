{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="bg-gray-900 py-12">
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <h2 class="text-3xl font-bold tracking-tight text-gray-200 text-center mb-6">Cat치logo de Juegos</h2>

    <div class="overflow-x-auto whitespace-nowrap scrollbar-hide">
      <div class="flex space-x-6">
        {% for game in games %}
          <div class="bg-gray-800 p-4 shadow-lg rounded-lg min-w-[250px] max-w-[250px] hover:shadow-xl transition">
            <a href="{% url 'game_detail' game.id %}" class="block">
              {% if game.image %}
                <img src="{{ game.image.url }}" alt="{{ game.title }}" class="w-full h-48 object-cover rounded-md mb-3">
              {% else %}
                <div class="w-full h-48 bg-gray-700 rounded-md flex items-center justify-center">
                  <span class="text-gray-400">Sin imagen</span>
                </div>
              {% endif %}
              <h3 class="text-lg font-semibold text-gray-200">{{ game.title }}</h3>
              <p class="text-sm text-gray-400">{{ game.developer }}</p>
            </a>

            <div class="mt-4 space-y-2">
              <!-- Bot칩n Rentar -->
              <form action="{% url 'add_to_cart' %}" method="post">
                {% csrf_token %}
                <input type="hidden" name="game_id" value="{{ game.id }}">
                <input type="hidden" name="item_type" value="rent">
                <button type="submit" class="w-full py-2 text-sm bg-yellow-500 text-white font-medium rounded-md hover:bg-yellow-600 transition">
                  Rentar
                </button>
              </form>

              <!-- Bot칩n Comprar -->
              <form action="{% url 'add_to_cart' %}" method="post">
                {% csrf_token %}
                <input type="hidden" name="game_id" value="{{ game.id }}">
                <input type="hidden" name="item_type" value="purchase">
                <button type="submit" class="w-full py-2 text-sm bg-green-500 text-white font-medium rounded-md hover:bg-green-600 transition">
                  Comprar
                </button>
              </form>

              <!-- Bot칩n Renta Compartida -->
              <form action="{% url 'add_to_cart' %}" method="post">
                {% csrf_token %}
                <input type="hidden" name="game_id" value="{{ game.id }}">
                <input type="hidden" name="item_type" value="shared">
                <button type="submit" class="w-full py-2 text-sm bg-blue-500 text-white font-medium rounded-md hover:bg-blue-600 transition">
                  Renta Compartida
                </button>
              </form>
            </div>
          </div>
        {% empty %}
          <p class="text-center text-gray-400 text-lg">No hay juegos disponibles.</p>
        {% endfor %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
